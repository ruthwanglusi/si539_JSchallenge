<!DOCTYPE html>
<html lang="en">
  <head>
    <title>JavaScript Challenges</title>
<!--

Step 4: Enable toggling.
When you test your form at the moment, you'll notice that you can click on the checkbox and the email field displays, but when you un-check the checkbox the extra paragraph doesn't hide itself again!  Use the "checked" property to test whether a checkbox was checked.  Then use an if statement to toggle the emailfield appear and disappear as appropriate.
-->


    <style>
    /* Step 1: Add some plain old CSS style so that the "emailfield" paragraph isn't displayed when the page first loads.  */
    #emailfield {
      display: none;
    }
    </style>

    <script>
	function toggleEmail(){
		///Step 2: displays an message to the console
    ///Step 3: when the checkbox is clicked your function is called and test that it works!
    console.log('toggleEmail() called');

    ///Step 4: Display the email fields when the checkbox is clicked
    //Grab the #emailfield
    let emailfield = document.querySelector('#emailfield');

    ///Step 5: Enable toggling.
    //access the value of whether the checkbox is checked or not
    let checked = document.querySelector('#subscribe').checked;
    //returns true if checked, else false
    if (checked)
    {
      // display the emailfield as a block
      emailfield.style.display = 'block';
    }
    else
    {
      emailfield.style.display = 'none';
    }

	}
    </script>
  </head>
  <body>
    <h1>Challenge One</h1>
    <!-- UPDATE THE ACTION -->
    <form action="challenge2.html">
      <fieldset>
        <legend>Email subscriptions</legend>
        <div id="check">
          <label>
            <input type="checkbox" name="subscribe" id="subscribe" onchange="toggleEmail()">
            Check to toggle the email field.
          </label>
        </div>

        <div id="emailfield">
          <label>
            Email Address:
            <input type="text" name="email" id="email">
          </label>
        </div>

        <input type = "submit" value = "Go To Challenge 2">
      </fieldset>
    </form>
  </body>
</html>
